{"type":"Program","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"luhnValidation"},"init":{"type":"ArrowFunctionExpression","id":null,"params":[{"type":"Identifier","name":"creditCardNumber"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"validationSum"},"init":{"type":"Literal","value":0,"raw":"0"}}],"kind":"let"},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"creditCardNumber"},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"Literal","value":"","raw":"''"}]},"property":{"type":"Identifier","name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"params":[{"type":"Identifier","name":"digit"},{"type":"Identifier","name":"index"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"currentDigit"},"init":{"type":"CallExpression","callee":{"type":"Identifier","name":"parseInt"},"arguments":[{"type":"Identifier","name":"digit"}]}}],"kind":"let"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"index"},"right":{"type":"Literal","value":2,"raw":"2"}},"right":{"type":"Literal","value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"*=","left":{"type":"Identifier","name":"currentDigit"},"right":{"type":"Literal","value":2,"raw":"2"}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":">","left":{"type":"Identifier","name":"currentDigit"},"right":{"type":"Literal","value":9,"raw":"9"}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"%=","left":{"type":"Identifier","name":"currentDigit"},"right":{"type":"Literal","value":10,"raw":"10"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"currentDigit"},"right":{"type":"Literal","value":1,"raw":"1"}}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"+=","left":{"type":"Identifier","name":"validationSum"},"right":{"type":"Identifier","name":"currentDigit"}}}]},"generator":false,"expression":false,"async":false}]}},{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"===","left":{"type":"BinaryExpression","operator":"%","left":{"type":"Identifier","name":"validationSum"},"right":{"type":"Literal","value":10,"raw":"10"}},"right":{"type":"Literal","value":0,"raw":"0"}}}]},"generator":false,"expression":false,"async":false}}],"kind":"const"},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"validateCreditCard"},"init":{"type":"ArrowFunctionExpression","id":null,"params":[{"type":"Identifier","name":"creditCardString"}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"validStartSubString"},"init":{"type":"ArrayExpression","elements":[{"type":"Literal","value":"4","raw":"'4'"},{"type":"Literal","value":"5","raw":"'5'"},{"type":"Literal","value":"6","raw":"'6'"},{"type":"Literal","value":"37","raw":"'37'"},{"type":"Literal","value":"34","raw":"'34'"},{"type":"Literal","value":"35","raw":"'35'"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!==","left":{"type":"UnaryExpression","operator":"typeof","argument":{"type":"Identifier","name":"creditCardString"},"prefix":true},"right":{"type":"Literal","value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"TypeError"},"arguments":[{"type":"Literal","value":"The given value is not a string","raw":"'The given value is not a string'"}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"errorMessage"},"init":{"type":"TemplateLiteral","quasis":[{"type":"TemplateElement","value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","value":{"raw":" is an invalid credit card number because ","cooked":" is an invalid credit card number because "},"tail":true}],"expressions":[{"type":"Identifier","name":"creditCardString"}]}}],"kind":"const"},{"type":"IfStatement","test":{"type":"CallExpression","callee":{"type":"Identifier","name":"isNaN"},"arguments":[{"type":"Identifier","name":"creditCardString"}]},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"TypeError"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"errorMessage"},"right":{"type":"Literal","value":"it has nonnumerical characters.","raw":"'it has nonnumerical characters.'"}}]}}]},"alternate":null},{"type":"VariableDeclaration","declarations":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"creditCardStringLength"},"init":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"creditCardString"},"property":{"type":"Identifier","name":"length"}}}],"kind":"const"},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"LogicalExpression","operator":"&&","left":{"type":"BinaryExpression","operator":">=","left":{"type":"Identifier","name":"creditCardStringLength"},"right":{"type":"Literal","value":13,"raw":"13"}},"right":{"type":"BinaryExpression","operator":"<=","left":{"type":"Identifier","name":"creditCardStringLength"},"right":{"type":"Literal","value":16,"raw":"16"}}},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"errorMessage"},"right":{"type":"Literal","value":"of its length.","raw":"'of its length.'"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"validStartSubString"},"property":{"type":"Identifier","name":"some"}},"arguments":[{"type":"ArrowFunctionExpression","id":null,"params":[{"type":"Identifier","name":"subString"}],"body":{"type":"CallExpression","callee":{"type":"MemberExpression","computed":false,"object":{"type":"Identifier","name":"creditCardString"},"property":{"type":"Identifier","name":"startsWith"}},"arguments":[{"type":"Identifier","name":"subString"}]},"generator":false,"expression":true,"async":false}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"errorMessage"},"right":{"type":"Literal","value":"of its first two digits.","raw":"'of its first two digits.'"}}]}}]},"alternate":null},{"type":"IfStatement","test":{"type":"UnaryExpression","operator":"!","argument":{"type":"CallExpression","callee":{"type":"Identifier","name":"luhnValidation"},"arguments":[{"type":"Identifier","name":"creditCardString"}]},"prefix":true},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","callee":{"type":"Identifier","name":"Error"},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"Identifier","name":"errorMessage"},"right":{"type":"Literal","value":"it fails the Luhn check.","raw":"'it fails the Luhn check.'"}}]}}]},"alternate":null},{"type":"ReturnStatement","argument":{"type":"Literal","value":true,"raw":"true"}}]},"generator":false,"expression":false,"async":false}}],"kind":"const"},{"type":"ExportNamedDeclaration","declaration":null,"specifiers":[{"type":"ExportSpecifier","exported":{"type":"Identifier","name":"validateCreditCard"},"local":{"type":"Identifier","name":"validateCreditCard"}}],"source":null}],"sourceType":"module"}